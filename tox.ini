[tox]
envlist = py{36,37,38,39}-dj{22,31,32}, py39-coverage
[testenv]
deps=
    dj22: Django>=2.2,<3.0
    dj31: Django>=3.1,<3.2
    dj32: Django>=3.2,<3.3
    -r {toxinidir}/test_requirements.txt
commands=
    make test
whitelist_externals=make
passenv=LANG DATABASE_USER DATABASE_PASSWORD

[py39-dj22:py39-coverage]
commands=
    make coverage
deps=
    {[py39-dj22]deps}
    coverage==5.5

[gh-actions]
python =
    3.6: py36
    3.7: py37
    3.8: py38
    3.9: py39
